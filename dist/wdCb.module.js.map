{"version":3,"file":"wdCb.module.js","sources":["es2015/utils/JudgeUtils.ts","es2015/global/Const.ts","es2015/List.ts","es2015/utils/ExtendUtils.ts","es2015/Collection.ts","es2015/global/Variable.ts","es2015/Log.ts","es2015/Hash.ts","es2015/Queue.ts","es2015/Stack.ts","es2015/utils/AjaxUtils.ts","es2015/utils/ArrayUtils.ts","es2015/utils/ConvertUtils.ts","es2015/utils/DomQuery.ts","es2015/utils/EventUtils.ts","es2015/utils/FunctionUtils.ts","es2015/utils/PathUtils.ts"],"sourcesContent":["declare var global: any, module: any;\r\n\r\nexport class JudgeUtils {\r\n    public static isArray(arr: any) {\r\n        const MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\r\n        var length = arr && arr.length;\r\n\r\n        return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\r\n    }\r\n\r\n    public static isArrayExactly(arr: any) {\r\n        return Object.prototype.toString.call(arr) === \"[object Array]\";\r\n    }\r\n\r\n    public static isNumber(num: any) {\r\n        return typeof num == \"number\";\r\n    }\r\n\r\n    public static isNumberExactly(num: any) {\r\n        return Object.prototype.toString.call(num) === \"[object Number]\";\r\n    }\r\n\r\n    public static isString(str: any) {\r\n        return typeof str == \"string\";\r\n    }\r\n\r\n    public static isStringExactly(str: any) {\r\n        return Object.prototype.toString.call(str) === \"[object String]\";\r\n    }\r\n\r\n    public static isBoolean(bool: any) {\r\n        return bool === true || bool === false || toString.call(bool) === '[boolect Boolean]';\r\n    }\r\n\r\n    public static isDom(obj: any) {\r\n        return !!(obj && obj.nodeType === 1);\r\n    }\r\n\r\n\r\n    public static isObject(obj: any) {\r\n        var type = typeof obj;\r\n\r\n        return type === 'function' || type === 'object' && !!obj;\r\n    }\r\n\r\n    /**\r\n     * 判断是否为对象字面量（{}）\r\n     */\r\n    public static isDirectObject(obj: any) {\r\n        return Object.prototype.toString.call(obj) === \"[object Object]\";\r\n    }\r\n\r\n    /**\r\n     * 检查宿主对象是否可调用\r\n     *\r\n     * 任何对象，如果其语义在ECMAScript规范中被定义过，那么它被称为原生对象；\r\n     环境所提供的，而在ECMAScript规范中没有被描述的对象，我们称之为宿主对象。\r\n\r\n     该方法用于特性检测，判断对象是否可用。用法如下：\r\n\r\n     MyEngine addEvent():\r\n     if (Tool.judge.isHostMethod(dom, \"addEventListener\")) {    //判断dom是否具有addEventListener方法\r\n        dom.addEventListener(sEventType, fnHandler, false);\r\n        }\r\n     */\r\n    public static isHostMethod(object: any, property: any) {\r\n        var type = typeof object[property];\r\n\r\n        return type === \"function\" ||\r\n            (type === \"object\" && !!object[property]);\r\n        // || type == \"unknown\";\r\n    }\r\n\r\n    public static isNodeJs() {\r\n        return ((typeof global != \"undefined\" && global.module) || (typeof module != \"undefined\")) && typeof module.exports != \"undefined\";\r\n    }\r\n\r\n    //overwrite it in the end of this file\r\n    public static isFunction(func: any): boolean {\r\n        return true;\r\n    }\r\n}\r\n\r\n// Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\r\n// IE 11 (#1621), and in Safari 8 (#1929).\r\nif (typeof /./ != 'function' && typeof Int8Array != 'object') {\r\n    JudgeUtils.isFunction = (func: any) => {\r\n        return typeof func == 'function';\r\n    };\r\n}\r\nelse {\r\n    JudgeUtils.isFunction = (func: any) => {\r\n        return Object.prototype.toString.call(func) === \"[object Function]\";\r\n    };\r\n}","export const $BREAK = {\r\n    break: true\r\n};\r\nexport const $REMOVE = void 0;","import { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { $BREAK } from \"./global/Const\";\r\n\r\nexport class List<T> {\r\n    protected children: Array<T> = null;\r\n\r\n    public getCount(): number {\r\n        return this.children.length;\r\n    }\r\n\r\n    public hasChild(child: any): boolean {\r\n        var c: any = null,\r\n            children = this.children;\r\n\r\n        for (let i = 0, len = children.length; i < len; i++) {\r\n            c = children[i];\r\n\r\n            if (child.uid && c.uid && child.uid == c.uid) {\r\n                return true;\r\n            }\r\n            else if (child === c) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public hasChildWithFunc(func: Function): boolean {\r\n        for (let i = 0, len = this.children.length; i < len; i++) {\r\n            if (func(this.children[i], i)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n    public getChildren() {\r\n        return this.children;\r\n    }\r\n\r\n    public getChild(index: number) {\r\n        return this.children[index];\r\n    }\r\n\r\n    public addChild(child: T) {\r\n        this.children.push(child);\r\n\r\n        return this;\r\n    }\r\n\r\n    public addChildren(arg: Array<T> | List<T> | any) {\r\n        if (JudgeUtils.isArray(arg)) {\r\n            let children: Array<T> = arg;\r\n\r\n            this.children = this.children.concat(children);\r\n        }\r\n        else if (arg instanceof List) {\r\n            let children: List<T> = arg;\r\n\r\n            this.children = this.children.concat(children.getChildren());\r\n        }\r\n        else {\r\n            let child: any = arg;\r\n\r\n            this.addChild(child);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    //todo test\r\n    public setChildren(children: Array<T>) {\r\n        this.children = children;\r\n\r\n        return this;\r\n    }\r\n\r\n    public unShiftChild(child: T) {\r\n        this.children.unshift(child);\r\n    }\r\n\r\n    public removeAllChildren() {\r\n        this.children = [];\r\n\r\n        return this;\r\n    }\r\n\r\n    public forEach(func: Function, context?: any) {\r\n        this._forEach(this.children, func, context);\r\n\r\n        return this;\r\n    }\r\n\r\n    //public removeChildAt (index) {\r\n    //    Log.error(index < 0, \"序号必须大于等于0\");\r\n    //\r\n    //    this.children.splice(index, 1);\r\n    //}\r\n    //\r\n\r\n    public toArray() {\r\n        return this.children;\r\n    }\r\n\r\n    protected copyChildren() {\r\n        return this.children.slice(0);\r\n    }\r\n\r\n    protected removeChildHelper(arg: any): Array<T> {\r\n        var result = null;\r\n\r\n        if (JudgeUtils.isFunction(arg)) {\r\n            let func = <Function>arg;\r\n\r\n            result = this._removeChild(this.children, func);\r\n        }\r\n        else if (arg.uid) {\r\n            result = this._removeChild(this.children, (e) => {\r\n                if (!e.uid) {\r\n                    return false;\r\n                }\r\n                return e.uid === arg.uid;\r\n            });\r\n        }\r\n        else {\r\n            result = this._removeChild(this.children, (e) => {\r\n                return e === arg;\r\n            });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private _forEach(arr: T[], func: Function, context?: any) {\r\n        var scope = context,\r\n            i = 0,\r\n            len = arr.length;\r\n\r\n\r\n        for (i = 0; i < len; i++) {\r\n            if (func.call(scope, arr[i], i) === $BREAK) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private _removeChild(arr: T[], func: Function) {\r\n        var self = this,\r\n            removedElementArr = [],\r\n            remainElementArr = [];\r\n\r\n        this._forEach(arr, (e, index) => {\r\n            if (!!func.call(self, e)) {\r\n                removedElementArr.push(e);\r\n            }\r\n            else {\r\n                remainElementArr.push(e);\r\n            }\r\n        });\r\n\r\n        this.children = remainElementArr;\r\n\r\n        return removedElementArr;\r\n    }\r\n}","import { JudgeUtils } from \"./JudgeUtils\";\r\n\r\nexport class ExtendUtils {\r\n    /**\r\n     * 深拷贝\r\n     *\r\n     * 示例：\r\n     * 如果拷贝对象为数组，能够成功拷贝（不拷贝Array原型链上的成员）\r\n     * expect(extend.extendDeep([1, { x: 1, y: 1 }, \"a\", { x: 2 }, [2]])).toEqual([1, { x: 1, y: 1 }, \"a\", { x: 2 }, [2]]);\r\n     *\r\n     * 如果拷贝对象为对象，能够成功拷贝（能拷贝原型链上的成员）\r\n     * var result = null;\r\n     function A() {\r\n            };\r\n     A.prototype.a = 1;\r\n\r\n     function B() {\r\n            };\r\n     B.prototype = new A();\r\n     B.prototype.b = { x: 1, y: 1 };\r\n     B.prototype.c = [{ x: 1 }, [2]];\r\n\r\n     var t = new B();\r\n\r\n     result = extend.extendDeep(t);\r\n\r\n     expect(result).toEqual(\r\n     {\r\n         a: 1,\r\n         b: { x: 1, y: 1 },\r\n         c: [{ x: 1 }, [2]]\r\n     });\r\n     * @param parent\r\n     * @param child\r\n     * @returns\r\n     */\r\n    public static extendDeep(parent, child?, filter = function(val, i) { return true; }) {\r\n        var i = null,\r\n            len = 0,\r\n            toStr = Object.prototype.toString,\r\n            sArr = \"[object Array]\",\r\n            sOb = \"[object Object]\",\r\n            type = \"\",\r\n            _child = null;\r\n\r\n        //数组的话，不获得Array原型上的成员。\r\n        if (toStr.call(parent) === sArr) {\r\n            _child = child || [];\r\n\r\n            for (i = 0, len = parent.length; i < len; i++) {\r\n                let member = parent[i];\r\n\r\n                if (!filter(member, i)) {\r\n                    continue;\r\n                }\r\n\r\n                if (member.clone) {\r\n                    _child[i] = member.clone();\r\n                    continue;\r\n                }\r\n\r\n                type = toStr.call(member);\r\n                if (type === sArr || type === sOb) {    //如果为数组或object对象\r\n                    _child[i] = type === sArr ? [] : {};\r\n                    ExtendUtils.extendDeep(member, _child[i]);\r\n                } else {\r\n                    _child[i] = member;\r\n                }\r\n            }\r\n        }\r\n        //对象的话，要获得原型链上的成员。因为考虑以下情景：\r\n        //类A继承于类B，现在想要拷贝类A的实例a的成员（包括从类B继承来的成员），那么就需要获得原型链上的成员。\r\n        else if (toStr.call(parent) === sOb) {\r\n            _child = child || {};\r\n\r\n            for (i in parent) {\r\n                let member = parent[i];\r\n\r\n                if (!filter(member, i)) {\r\n                    continue;\r\n                }\r\n\r\n                if (member.clone) {\r\n                    _child[i] = member.clone();\r\n                    continue;\r\n                }\r\n\r\n                type = toStr.call(member);\r\n                if (type === sArr || type === sOb) {    //如果为数组或object对象\r\n                    _child[i] = type === sArr ? [] : {};\r\n                    ExtendUtils.extendDeep(member, _child[i]);\r\n                } else {\r\n                    _child[i] = member;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            _child = parent;\r\n        }\r\n\r\n        return _child;\r\n    }\r\n\r\n    /**\r\n     * 浅拷贝\r\n     */\r\n    public static extend(destination: any, source: any) {\r\n        var property = \"\";\r\n\r\n        for (property in source) {\r\n            destination[property] = source[property];\r\n        }\r\n        return destination;\r\n    }\r\n\r\n    public static copyPublicAttri(source: any) {\r\n        var property = null,\r\n            destination = {};\r\n\r\n        this.extendDeep(source, destination, function(item, property) {\r\n            return property.slice(0, 1) !== \"_\"\r\n                && !JudgeUtils.isFunction(item);\r\n        });\r\n\r\n        return destination;\r\n    }\r\n}","import { List } from \"./List\";\r\nimport { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { ExtendUtils } from \"./utils/ExtendUtils\";\r\nimport { $BREAK, $REMOVE } from \"./global/Const\";\r\n\r\nexport class Collection<T> extends List<T>{\r\n    public static create<T>(children = []) {\r\n        var obj = new this(<Array<T>>children);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(children: Array<T> = []) {\r\n        super();\r\n\r\n        this.children = children;\r\n    }\r\n\r\n    public clone();\r\n    public clone(isDeep: boolean);\r\n    public clone(target: Collection<T>);\r\n    public clone(target: Collection<T>, isDeep: boolean);\r\n\r\n    public clone(...args) {\r\n        var target: Collection<T> = null,\r\n            isDeep: boolean = null;\r\n\r\n        if (args.length === 0) {\r\n            isDeep = false;\r\n            target = Collection.create<T>();\r\n        }\r\n        else if (args.length === 1) {\r\n            if (JudgeUtils.isBoolean(args[0])) {\r\n                target = Collection.create<T>();\r\n                isDeep = args[0];\r\n            }\r\n            else {\r\n                target = args[0];\r\n                isDeep = false;\r\n            }\r\n        }\r\n        else {\r\n            target = args[0];\r\n            isDeep = args[1];\r\n        }\r\n\r\n        if (isDeep === true) {\r\n            target.setChildren(ExtendUtils.extendDeep(this.children));\r\n        }\r\n        else {\r\n            target.setChildren(ExtendUtils.extend([], this.children));\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    public filter(func: (value: T, index: number) => boolean): Collection<T> {\r\n        var children = this.children,\r\n            result = [],\r\n            value = null;\r\n\r\n        for (let i = 0, len = children.length; i < len; i++) {\r\n            value = children[i];\r\n\r\n            if (func.call(children, value, i)) {\r\n                result.push(value);\r\n            }\r\n        }\r\n\r\n        return Collection.create<T>(result);\r\n    }\r\n\r\n    public findOne(func: (value: T, index: number) => boolean) {\r\n        var scope = this.children,\r\n            result: T = null;\r\n\r\n        this.forEach((value: T, index) => {\r\n            if (!func.call(scope, value, index)) {\r\n                return;\r\n            }\r\n\r\n            result = value;\r\n            return $BREAK;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public reverse() {\r\n        return Collection.create<T>(this.copyChildren().reverse());\r\n    }\r\n\r\n    public removeChild(arg: any) {\r\n        return Collection.create<T>(this.removeChildHelper(arg));\r\n    }\r\n\r\n    public sort(func: (a: T, b: T) => any, isSortSelf = false): Collection<T> {\r\n        if (isSortSelf) {\r\n            this.children.sort(func);\r\n\r\n            return this;\r\n        }\r\n\r\n        return Collection.create<T>(this.copyChildren().sort(func));\r\n    }\r\n\r\n    public map(func: (value: T, index: number) => any) {\r\n        var resultArr = [];\r\n\r\n        this.forEach((e, index) => {\r\n            var result = func(e, index);\r\n\r\n            if (result !== $REMOVE) {\r\n                resultArr.push(result);\r\n            }\r\n            //e && e[handlerName] && e[handlerName].apply(context || e, valueArr);\r\n        });\r\n\r\n        return Collection.create<any>(resultArr);\r\n    }\r\n\r\n    public removeRepeatItems() {\r\n        var noRepeatList = Collection.create<T>();\r\n\r\n        this.forEach((item: T) => {\r\n            if (noRepeatList.hasChild(item)) {\r\n                return;\r\n            }\r\n\r\n            noRepeatList.addChild(item);\r\n        });\r\n\r\n        return noRepeatList;\r\n    }\r\n\r\n    public hasRepeatItems() {\r\n        var noRepeatList = Collection.create<T>(),\r\n            hasRepeat: boolean = false;\r\n\r\n        this.forEach((item: T) => {\r\n            if (noRepeatList.hasChild(item)) {\r\n                hasRepeat = true;\r\n\r\n                return $BREAK;\r\n            }\r\n\r\n            noRepeatList.addChild(item);\r\n        });\r\n\r\n        return hasRepeat;\r\n    }\r\n}\r\n","import { JudgeUtils } from \"../utils/JudgeUtils\";\r\n\r\ndeclare var global: NodeJS.Global, window: Window;\r\nexport var root: any;\r\n\r\nif (JudgeUtils.isNodeJs() && typeof global != \"undefined\") {\r\n    root = global;\r\n}\r\nelse {\r\n    root = window;\r\n}","import { root } from \"./global/Variable\";\r\n\r\nexport class Log {\r\n    public static info = {\r\n        INVALID_PARAM: \"invalid parameter\",\r\n\r\n        helperFunc: function(...args) {\r\n            var result = \"\";\r\n\r\n            args.forEach(function(val) {\r\n                result += String(val) + \" \";\r\n            });\r\n\r\n            return result.slice(0, -1);\r\n        },\r\n        assertion: function(...args) {\r\n            if (args.length === 2) {\r\n                return this.helperFunc(args[0], args[1]);\r\n            }\r\n            else if (args.length === 3) {\r\n                return this.helperFunc(args[1], args[0], args[2]);\r\n            }\r\n            else {\r\n                throw new Error(\"args.length must <= 3\");\r\n            }\r\n        },\r\n\r\n        FUNC_INVALID: function(...args) {\r\n            args.unshift(\"invalid\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST: function(...args) {\r\n            args.unshift(\"must\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_BE: function(...args) {\r\n            args.unshift(\"must be\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_NOT_BE: function(...args) {\r\n            args.unshift(\"must not be\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SHOULD: function(...args) {\r\n            args.unshift(\"should\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SHOULD_NOT: function(...args) {\r\n            args.unshift(\"should not\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SUPPORT: function(...args) {\r\n            args.unshift(\"support\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_NOT_SUPPORT: function(...args) {\r\n            args.unshift(\"not support\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_DEFINE: function(...args) {\r\n            args.unshift(\"must define\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_NOT_DEFINE: function(...args) {\r\n            args.unshift(\"must not define\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_UNKNOW: function(...args) {\r\n            args.unshift(\"unknow\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_EXPECT: function(...args) {\r\n            args.unshift(\"expect\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_UNEXPECT: function(...args) {\r\n            args.unshift(\"unexpect\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_EXIST: function(...args) {\r\n            args.unshift(\"exist\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_NOT_EXIST: function(...args) {\r\n            args.unshift(\"not exist\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_ONLY: function(...args) {\r\n            args.unshift(\"only\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_CAN_NOT: function(...args) {\r\n            args.unshift(\"can't\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Output Debug message.\r\n     * @function\r\n     * @param {String} message\r\n     */\r\n    public static log(...messages) {\r\n        if (!this._exec(\"log\", messages)) {\r\n            root.alert(messages.join(\",\"));\r\n        }\r\n\r\n        this._exec(\"trace\", messages);\r\n    }\r\n\r\n    /**\r\n     * 断言失败时，会提示错误信息，但程序会继续执行下去\r\n     * 使用断言捕捉不应该发生的非法情况。不要混淆非法情况与错误情况之间的区别，后者是必然存在的并且是一定要作出处理的。\r\n     *\r\n     * 1）对非预期错误使用断言\r\n     断言中的布尔表达式的反面一定要描述一个非预期错误，下面所述的在一定情况下为非预期错误的一些例子：\r\n     （1）空指针。\r\n     （2）输入或者输出参数的值不在预期范围内。\r\n     （3）数组的越界。\r\n     非预期错误对应的就是预期错误，我们通常使用错误处理代码来处理预期错误，而使用断言处理非预期错误。在代码执行过程中，有些错误永远不应该发生，这样的错误是非预期错误。断言可以被看成是一种可执行的注释，你不能依赖它来让代码正常工作（《Code Complete 2》）。例如：\r\n     int nRes = f(); // nRes 由 f 函数控制， f 函数保证返回值一定在 -100 ~ 100\r\n     Assert(-100 <= nRes && nRes <= 100); // 断言，一个可执行的注释\r\n     由于 f 函数保证了返回值处于 -100 ~ 100，那么如果出现了 nRes 不在这个范围的值时，就表明一个非预期错误的出现。后面会讲到“隔栏”，那时会对断言有更加深刻的理解。\r\n     2）不要把需要执行的代码放入断言中\r\n     断言用于软件的开发和维护，而通常不在发行版本中包含断言。\r\n     需要执行的代码放入断言中是不正确的，因为在发行版本中，这些代码通常不会被执行，例如：\r\n     Assert(f()); // f 函数通常在发行版本中不会被执行\r\n     而使用如下方法则比较安全：\r\n     res = f();\r\n     Assert(res); // 安全\r\n     3）对来源于内部系统的可靠的数据使用断言，而不要对外部不可靠的数据使用断言，对于外部不可靠数据，应该使用错误处理代码。\r\n     再次强调，把断言看成可执行的注释。\r\n     * @param cond 如果cond返回false，则断言失败，显示message\r\n     * @param message\r\n     */\r\n    public static assert(cond, ...messages) {\r\n        if (cond) {\r\n            if (!this._exec(\"assert\", arguments, 1)) {\r\n                this.log.apply(this, Array.prototype.slice.call(arguments, 1));\r\n            }\r\n        }\r\n    }\r\n\r\n    public static error(cond, ...message): any {\r\n        if (cond) {\r\n            /*!\r\n            console.error will not interrupt, it will throw error and continue exec the left statements\r\n\r\n            but here need interrupt! so not use it here.\r\n             */\r\n            //if (!this._exec(\"error\", arguments, 1)) {\r\n            throw new Error(Array.prototype.slice.call(arguments, 1).join(\"\\n\"));\r\n            //}\r\n        }\r\n    }\r\n\r\n    public static warn(...message) {\r\n        var result = this._exec(\"warn\", arguments);\r\n\r\n        if (!result) {\r\n            this.log.apply(this, arguments);\r\n        }\r\n        else {\r\n            this._exec(\"trace\", [\"warn trace\"]);\r\n        }\r\n    }\r\n\r\n    private static _exec(consoleMethod, args, sliceBegin = 0) {\r\n        if (root.console && root.console[consoleMethod]) {\r\n            root.console[consoleMethod].apply(root.console, Array.prototype.slice.call(args, sliceBegin));\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}","import { Collection } from \"./Collection\";\r\nimport { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { $BREAK, $REMOVE } from \"./global/Const\";\r\nimport { Log } from \"./Log\";\r\nimport { ExtendUtils } from \"./utils/ExtendUtils\";\r\n\r\nexport class Hash<T> {\r\n    public static create<T>(children = {}) {\r\n        var obj = new this(<{ [s: string]: T }>children);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(children: { [s: string]: T } = {}) {\r\n        this._children = children;\r\n    }\r\n\r\n    private _children: {\r\n        [s: string]: T\r\n    } = null;\r\n\r\n    public getChildren() {\r\n        return this._children;\r\n    }\r\n\r\n    public getCount() {\r\n        var result = 0,\r\n            children = this._children,\r\n            key = null;\r\n\r\n        for (key in children) {\r\n            if (children.hasOwnProperty(key)) {\r\n                result++;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public getKeys() {\r\n        var result = Collection.create<string>(),\r\n            children = this._children,\r\n            key = null;\r\n\r\n        for (key in children) {\r\n            if (children.hasOwnProperty(key)) {\r\n                result.addChild(key);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public getValues() {\r\n        var result = Collection.create<T>(),\r\n            children = this._children,\r\n            key = null;\r\n\r\n        for (key in children) {\r\n            if (children.hasOwnProperty(key)) {\r\n                result.addChild(children[key]);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public getChild(key: string) {\r\n        return this._children[key];\r\n    }\r\n\r\n    public setValue(key: string, value: any) {\r\n        this._children[key] = value;\r\n\r\n        return this;\r\n    }\r\n\r\n    public addChild(key: string, value: any) {\r\n        this._children[key] = value;\r\n\r\n        return this;\r\n    }\r\n\r\n    public addChildren(arg: {} | Hash<T>) {\r\n        var i = null,\r\n            children = null;\r\n\r\n        if (arg instanceof Hash) {\r\n            children = arg.getChildren();\r\n        }\r\n        else {\r\n            children = arg;\r\n        }\r\n\r\n        for (i in children) {\r\n            if (children.hasOwnProperty(i)) {\r\n                this.addChild(i, children[i]);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public appendChild(key: string, value: any) {\r\n        if (this._children[key] instanceof Collection) {\r\n            let c = <any>(this._children[key]);\r\n\r\n            c.addChild(<T>value);\r\n        }\r\n        else {\r\n            this._children[key] = <any>(Collection.create<any>().addChild(value));\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public setChildren(children: { [s: string]: T }) {\r\n        this._children = children;\r\n    }\r\n\r\n    public removeChild(arg: any): Collection<T> {\r\n        var result = [];\r\n\r\n        if (JudgeUtils.isString(arg)) {\r\n            let key = <string>arg;\r\n\r\n            result.push(this._children[key]);\r\n\r\n            this._children[key] = void 0;\r\n            delete this._children[key];\r\n        }\r\n        else if (JudgeUtils.isFunction(arg)) {\r\n            let func = <Function>arg,\r\n                self = this;\r\n\r\n            this.forEach((val: any, key: string) => {\r\n                if (func(val, key)) {\r\n                    result.push(self._children[key]);\r\n\r\n                    self._children[key] = void 0;\r\n                    delete self._children[key];\r\n                }\r\n            });\r\n        }\r\n\r\n        return Collection.create<T>(result);\r\n    }\r\n\r\n    public removeAllChildren() {\r\n        this._children = {};\r\n    }\r\n\r\n    public hasChild(key: string): boolean {\r\n        return this._children[key] !== void 0;\r\n    }\r\n\r\n    public hasChildWithFunc(func: Function): boolean {\r\n        var result = false;\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            if (func(val, key)) {\r\n                result = true;\r\n                return $BREAK;\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public forEach(func: Function, context?: any) {\r\n        var children = this._children;\r\n\r\n        for (let i in children) {\r\n            if (children.hasOwnProperty(i)) {\r\n                if (func.call(context, children[i], i) === $BREAK) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public filter(func: Function): Hash<T> {\r\n        var result = {},\r\n            children = this._children,\r\n            value = null;\r\n\r\n        for (let key in children) {\r\n            if (children.hasOwnProperty(key)) {\r\n                value = children[key];\r\n\r\n                if (func.call(children, value, key)) {\r\n                    result[key] = value;\r\n                }\r\n            }\r\n        }\r\n\r\n        return Hash.create<T>(result);\r\n    }\r\n\r\n    public findOne(func: Function) {\r\n        var result = [],\r\n            self = this,\r\n            scope = this._children;\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            if (!func.call(scope, val, key)) {\r\n                return;\r\n            }\r\n\r\n            result = [key, self.getChild(key)];\r\n            return $BREAK;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public map(func: Function): Hash<T> {\r\n        var resultMap = {};\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            var result = func(val, key);\r\n\r\n            if (result !== $REMOVE) {\r\n                Log.error(!JudgeUtils.isArray(result) || result.length !== 2, Log.info.FUNC_MUST_BE(\"iterator\", \"[key, value]\"));\r\n\r\n                resultMap[result[0]] = result[1];\r\n            }\r\n        });\r\n\r\n        return Hash.create<T>(resultMap);\r\n    }\r\n\r\n    public toCollection(): Collection<any> {\r\n        var result = Collection.create<any>();\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            if (val instanceof Collection) {\r\n                result.addChildren(val);\r\n            }\r\n            //else if(val instanceof Hash){\r\n            //    Log.error(true, Log.info.FUNC_NOT_SUPPORT(\"toCollection\", \"value is Hash\"));\r\n            //}\r\n            else {\r\n                result.addChild(val);\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public toArray(): Array<T> {\r\n        var result = [];\r\n\r\n        this.forEach((val: any, key: string) => {\r\n            if (val instanceof Collection) {\r\n                result = result.concat(val.getChildren());\r\n            }\r\n            else {\r\n                result.push(val);\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public clone();\r\n    public clone(isDeep: boolean);\r\n    public clone(target: Hash<T>);\r\n    public clone(target: Hash<T>, isDeep: boolean);\r\n\r\n    public clone(...args) {\r\n        var target: Hash<T> = null,\r\n            isDeep: boolean = null;\r\n\r\n        if (args.length === 0) {\r\n            isDeep = false;\r\n            target = Hash.create<T>();\r\n        }\r\n        else if (args.length === 1) {\r\n            if (JudgeUtils.isBoolean(args[0])) {\r\n                target = Hash.create<T>();\r\n                isDeep = args[0];\r\n            }\r\n            else {\r\n                target = args[0];\r\n                isDeep = false;\r\n            }\r\n        }\r\n        else {\r\n            target = args[0];\r\n            isDeep = args[1];\r\n        }\r\n\r\n        if (isDeep === true) {\r\n            target.setChildren(ExtendUtils.extendDeep(this._children));\r\n        }\r\n        else {\r\n            target.setChildren(ExtendUtils.extend({}, this._children));\r\n        }\r\n\r\n        return target;\r\n    }\r\n}","import { List } from \"./List\";\r\n\r\nexport class Queue<T> extends List<T>{\r\n    public static create<T>(children = []) {\r\n        var obj = new this(<Array<T>>children);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(children: Array<T> = []) {\r\n        super();\r\n\r\n        this.children = children;\r\n    }\r\n\r\n    get front() {\r\n        return this.children[this.children.length - 1];\r\n    }\r\n\r\n    get rear() {\r\n        return this.children[0];\r\n    }\r\n\r\n    public push(element: T) {\r\n        this.children.unshift(element);\r\n    }\r\n\r\n    public pop() {\r\n        return this.children.pop();\r\n    }\r\n\r\n    public clear() {\r\n        this.removeAllChildren();\r\n    }\r\n}","import { List } from \"./List\";\r\nimport { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { ExtendUtils } from \"./utils/ExtendUtils\";\r\nimport { Collection } from \"./Collection\";\r\nimport { $BREAK, $REMOVE } from \"./global/Const\";\r\n\r\nexport class Stack<T> extends List<T>{\r\n    public static create<T>(children = []) {\r\n        var obj = new this(<Array<T>>children);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(children: Array<T> = []) {\r\n        super();\r\n\r\n        this.children = children;\r\n    }\r\n\r\n    get top() {\r\n        return this.children[this.children.length - 1];\r\n    }\r\n\r\n    public push(element: T) {\r\n        this.children.push(element);\r\n    }\r\n\r\n    public pop() {\r\n        return this.children.pop();\r\n    }\r\n\r\n    public clear() {\r\n        this.removeAllChildren();\r\n    }\r\n\r\n    public clone();\r\n    public clone(isDeep: boolean);\r\n    public clone(target: Stack<T>);\r\n    public clone(target: Stack<T>, isDeep: boolean);\r\n\r\n    public clone(...args) {\r\n        var target: Stack<T> = null,\r\n            isDeep: boolean = null;\r\n\r\n        if (args.length === 0) {\r\n            isDeep = false;\r\n            target = Stack.create<T>();\r\n        }\r\n        else if (args.length === 1) {\r\n            if (JudgeUtils.isBoolean(args[0])) {\r\n                target = Stack.create<T>();\r\n                isDeep = args[0];\r\n            }\r\n            else {\r\n                target = args[0];\r\n                isDeep = false;\r\n            }\r\n        }\r\n        else {\r\n            target = args[0];\r\n            isDeep = args[1];\r\n        }\r\n\r\n        if (isDeep === true) {\r\n            target.setChildren(ExtendUtils.extendDeep(this.children));\r\n        }\r\n        else {\r\n            target.setChildren(ExtendUtils.extend([], this.children));\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    public filter(func: (value: T, index: number) => boolean): Collection<T> {\r\n        var children = this.children,\r\n            result = [],\r\n            value = null;\r\n\r\n        for (let i = 0, len = children.length; i < len; i++) {\r\n            value = children[i];\r\n\r\n            if (func.call(children, value, i)) {\r\n                result.push(value);\r\n            }\r\n        }\r\n\r\n        return Collection.create<T>(result);\r\n    }\r\n\r\n    public findOne(func: (value: T, index: number) => boolean) {\r\n        var scope = this.children,\r\n            result: T = null;\r\n\r\n        this.forEach((value: T, index) => {\r\n            if (!func.call(scope, value, index)) {\r\n                return;\r\n            }\r\n\r\n            result = value;\r\n            return $BREAK;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public reverse() {\r\n        return Collection.create<T>(this.copyChildren().reverse());\r\n    }\r\n\r\n    public removeChild(arg: any) {\r\n        return Collection.create<T>(this.removeChildHelper(arg));\r\n    }\r\n\r\n    public sort(func: (a: T, b: T) => any, isSortSelf = false): Collection<T> {\r\n        if (isSortSelf) {\r\n            this.children.sort(func);\r\n\r\n            return this;\r\n        }\r\n\r\n        return Collection.create<T>(this.copyChildren().sort(func));\r\n    }\r\n\r\n    public map(func: (value: T, index: number) => any) {\r\n        var resultArr = [];\r\n\r\n        this.forEach((e, index) => {\r\n            var result = func(e, index);\r\n\r\n            if (result !== $REMOVE) {\r\n                resultArr.push(result);\r\n            }\r\n            //e && e[handlerName] && e[handlerName].apply(context || e, valueArr);\r\n        });\r\n\r\n        return Collection.create<any>(resultArr);\r\n    }\r\n\r\n    public removeRepeatItems() {\r\n        var noRepeatList = Collection.create<T>();\r\n\r\n        this.forEach((item: T) => {\r\n            if (noRepeatList.hasChild(item)) {\r\n                return;\r\n            }\r\n\r\n            noRepeatList.addChild(item);\r\n        });\r\n\r\n        return noRepeatList;\r\n    }\r\n\r\n    public hasRepeatItems() {\r\n        var noRepeatList = Collection.create<T>(),\r\n            hasRepeat: boolean = false;\r\n\r\n        this.forEach((item: T) => {\r\n            if (noRepeatList.hasChild(item)) {\r\n                hasRepeat = true;\r\n\r\n                return $BREAK;\r\n            }\r\n\r\n            noRepeatList.addChild(item);\r\n        });\r\n\r\n        return hasRepeat;\r\n    }\r\n}","declare var document: any;\r\n\r\nexport class AjaxUtils {\r\n    /*!\r\n     实现ajax\r\n\r\n     ajax({\r\n     type:\"post\",//post或者get，非必须\r\n     url:\"test.jsp\",//必须的\r\n     data:\"name=dipoo&info=good\",//非必须\r\n     dataType:\"json\",//text/xml/json，非必须\r\n     success:function(data){//回调函数，非必须\r\n     alert(data.name);\r\n     }\r\n     });*/\r\n    public static ajax(conf) {\r\n        var type = conf.type;//type参数,可选\r\n        var url = conf.url;//url参数，必填\r\n        var data = conf.data;//data参数可选，只有在post请求时需要\r\n        var dataType = conf.dataType;//datatype参数可选\r\n        var success = conf.success;//回调函数可选\r\n        var error = conf.error;\r\n        var xhr = null;\r\n        var self = this;\r\n\r\n        if (type === null) {//type参数可选，默认为get\r\n            type = \"get\";\r\n        }\r\n        if (dataType === null) {//dataType参数可选，默认为text\r\n            dataType = \"text\";\r\n        }\r\n\r\n        xhr = this._createAjax(error);\r\n        if (!xhr) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            xhr.open(type, url, true);\r\n\r\n            if (this._isSoundFile(dataType)) {\r\n                xhr.responseType = \"arraybuffer\";\r\n            }\r\n\r\n            if (type === \"GET\" || type === \"get\") {\r\n                xhr.send(null);\r\n            }\r\n            else if (type === \"POST\" || type === \"post\") {\r\n                xhr.setRequestHeader(\"content-type\", \"application/x-www-form-urlencoded\");\r\n                xhr.send(data);\r\n            }\r\n\r\n            xhr.onreadystatechange = function() {\r\n                if (xhr.readyState === 4\r\n                    //如果ajax访问的是本地文件，则status为0\r\n                    && (xhr.status === 200 || self._isLocalFile(xhr.status))) {\r\n                    if (dataType === \"text\" || dataType === \"TEXT\") {\r\n                        if (success !== null) {//普通文本\r\n                            success(xhr.responseText);\r\n                        }\r\n                    }\r\n                    else if (dataType === \"xml\" || dataType === \"XML\") {\r\n                        if (success !== null) {//接收xml文档\r\n                            success(xhr.responseXML);\r\n                        }\r\n                    }\r\n                    else if (dataType === \"json\" || dataType === \"JSON\") {\r\n                        if (success !== null) {//将json字符串转换为js对象\r\n                            success(eval(\"(\" + xhr.responseText + \")\"));\r\n                        }\r\n                    }\r\n                    else if (self._isSoundFile(dataType)) {\r\n                        if (success !== null) {//将json字符串转换为js对象\r\n                            success(xhr.response);\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n        }\r\n        catch (e) {\r\n            error(xhr, e);\r\n        }\r\n    }\r\n\r\n    private static _createAjax(error) {\r\n        var xhr = null;\r\n        try {//IE系列浏览器\r\n            xhr = new ActiveXObject(\"microsoft.xmlhttp\");\r\n        } catch (e1) {\r\n            try {//非IE浏览器\r\n                xhr = new XMLHttpRequest();\r\n            } catch (e2) {\r\n                error(xhr, { message: \"您的浏览器不支持ajax，请更换！\" });\r\n                return null;\r\n            }\r\n        }\r\n        return xhr;\r\n    }\r\n\r\n    private static _isLocalFile(status) {\r\n        return document.URL.contain(\"file://\") && status === 0;\r\n    }\r\n\r\n    private static _isSoundFile(dataType) {\r\n        return dataType === \"arraybuffer\";\r\n    }\r\n}","import { JudgeUtils } from \"./JudgeUtils\";\r\n\r\nexport class ArrayUtils {\r\n    public static removeRepeatItems(arr: Array<any>, isEqual: (a: any, b: any) => boolean = (a, b) => {\r\n        return a === b;\r\n    }) {\r\n        var resultArr = [],\r\n            self = this;\r\n\r\n        arr.forEach(function(ele) {\r\n            if (self.contain(resultArr, function(val) {\r\n                return isEqual(val, ele);\r\n            })) {\r\n                return;\r\n            }\r\n\r\n            resultArr.push(ele);\r\n        });\r\n\r\n        return resultArr;\r\n    }\r\n\r\n    public static contain(arr: Array<any>, ele: any) {\r\n        if (JudgeUtils.isFunction(ele)) {\r\n            let func: Function = ele;\r\n\r\n            for (let i = 0, len = arr.length; i < len; i++) {\r\n                let value = arr[i];\r\n\r\n                if (!!func.call(null, value, i)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (let i = 0, len = arr.length; i < len; i++) {\r\n                let value = arr[i];\r\n\r\n                if (ele === value || (value.contain && value.contain(ele))) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n}","import { JudgeUtils } from \"./JudgeUtils\";\r\n\r\nexport class ConvertUtils {\r\n    public static toString(obj: any) {\r\n        if (JudgeUtils.isNumber(obj)) {\r\n            return String(obj);\r\n        }\r\n        //if (JudgeUtils.isjQuery(obj)) {\r\n        //    return _jqToString(obj);\r\n        //}\r\n        if (JudgeUtils.isFunction(obj)) {\r\n            return this._convertCodeToString(obj);\r\n        }\r\n        if (JudgeUtils.isDirectObject(obj) || JudgeUtils.isArray(obj)) {\r\n            return JSON.stringify(obj);\r\n        }\r\n        return String(obj);\r\n    }\r\n\r\n    private static _convertCodeToString(fn) {\r\n        return fn.toString().split('\\n').slice(1, -1).join('\\n') + '\\n';\r\n    }\r\n}","import { JudgeUtils } from \"./JudgeUtils\";\r\n\r\ndeclare var document: any;\r\n\r\nexport class DomQuery {\r\n    public static create(eleStr: string);\r\n    public static create(dom: HTMLElement);\r\n\r\n    public static create(...args) {\r\n        var obj = new this(args[0]);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _doms: Array<HTMLElement> = null;\r\n\r\n    constructor(eleStr: string);\r\n    constructor(dom: HTMLElement);\r\n\r\n    constructor(...args) {\r\n        if (JudgeUtils.isDom(args[0])) {\r\n            this._doms = [args[0]];\r\n        }\r\n        else if (this._isDomEleStr(args[0])) {\r\n            this._doms = [this._buildDom(args[0])];\r\n        }\r\n        else {\r\n            this._doms = document.querySelectorAll(args[0]);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public get(index) {\r\n        return this._doms[index];\r\n    }\r\n\r\n\r\n    public prepend(eleStr: string);\r\n    public prepend(dom: HTMLElement);\r\n\r\n    public prepend(...args) {\r\n        var targetDom: HTMLElement = null;\r\n\r\n        targetDom = this._buildDom(args[0]);\r\n\r\n        for (let dom of this._doms) {\r\n            if (dom.nodeType === 1) {\r\n                dom.insertBefore(targetDom, dom.firstChild);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public prependTo(eleStr: string) {\r\n        var targetDom: DomQuery = null;\r\n\r\n        targetDom = DomQuery.create(eleStr);\r\n\r\n        for (let dom of this._doms) {\r\n            if (dom.nodeType === 1) {\r\n                targetDom.prepend(dom);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public remove() {\r\n        for (let dom of this._doms) {\r\n            if (dom && dom.parentNode && dom.tagName != 'BODY') {\r\n                dom.parentNode.removeChild(dom);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public css(property: string, value: string) {\r\n        for (let dom of this._doms) {\r\n            dom.style[property] = value;\r\n        }\r\n    }\r\n\r\n    public attr(name: string);\r\n    public attr(name: string, value: string);\r\n\r\n    public attr(...args) {\r\n        if (args.length === 1) {\r\n            let name = args[0];\r\n\r\n            return this.get(0).getAttribute(name);\r\n        }\r\n        else {\r\n            let name = args[0],\r\n                value = args[1];\r\n\r\n            for (let dom of this._doms) {\r\n                dom.setAttribute(name, value);\r\n            }\r\n        }\r\n    }\r\n\r\n    public text(str?: string) {\r\n        var dom = this.get(0);\r\n\r\n        if (str !== void 0) {\r\n            if (dom.textContent !== void 0) {\r\n                dom.textContent = str;\r\n            }\r\n            else {\r\n                dom.innerText = str;\r\n            }\r\n        }\r\n        else {\r\n            return dom.textContent !== void 0 ? dom.textContent : dom.innerText;\r\n        }\r\n    }\r\n\r\n    private _isDomEleStr(eleStr: string) {\r\n        return eleStr.match(/<(\\w+)[^>]*><\\/\\1>/) !== null;\r\n    }\r\n\r\n    private _buildDom(eleStr: string): HTMLElement;\r\n    private _buildDom(dom: HTMLHtmlElement): HTMLElement;\r\n\r\n    private _buildDom(...args): HTMLElement {\r\n        if (JudgeUtils.isString(args[0])) {\r\n            let div = this._createElement(\"div\"),\r\n                eleStr: string = args[0];\r\n\r\n            div.innerHTML = eleStr;\r\n\r\n            return div.firstChild;\r\n        }\r\n\r\n        return args[0];\r\n    }\r\n\r\n    private _createElement(eleStr) {\r\n        return document.createElement(eleStr);\r\n    }\r\n}","import { JudgeUtils } from \"./JudgeUtils\";\r\n\r\nexport class EventUtils {\r\n    public static bindEvent(context, func) {\r\n        //var args = Array.prototype.slice.call(arguments, 2),\r\n        //    self = this;\r\n\r\n        return function(event) {\r\n            //return fun.apply(object, [self.wrapEvent(event)].concat(args)); //对事件对象进行包装\r\n            return func.call(context, event);\r\n        }\r\n    }\r\n\r\n    public static addEvent(dom, eventName, handler) {\r\n        if (JudgeUtils.isHostMethod(dom, \"addEventListener\")) {\r\n            dom.addEventListener(eventName, handler, false);\r\n        }\r\n        else if (JudgeUtils.isHostMethod(dom, \"attachEvent\")) {\r\n            dom.attachEvent(\"on\" + eventName, handler);\r\n        }\r\n        else {\r\n            dom[\"on\" + eventName] = handler;\r\n        }\r\n    }\r\n\r\n    public static removeEvent(dom, eventName, handler) {\r\n        if (JudgeUtils.isHostMethod(dom, \"removeEventListener\")) {\r\n            dom.removeEventListener(eventName, handler, false);\r\n        }\r\n        else if (JudgeUtils.isHostMethod(dom, \"detachEvent\")) {\r\n            dom.detachEvent(\"on\" + eventName, handler);\r\n        }\r\n        else {\r\n            dom[\"on\" + eventName] = null;\r\n        }\r\n    }\r\n}","export class FunctionUtils {\r\n    public static bind(object: any, func: Function) {\r\n        return function() {\r\n            return func.apply(object, arguments);\r\n        };\r\n    }\r\n}","import { root } from \"../global/Variable\";\r\n\r\nvar SPLITPATH_REGEX =\r\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\r\n\r\n//reference from\r\n//https://github.com/cookfront/learn-note/blob/master/blog-backup/2014/nodejs-path.md\r\nexport class PathUtils {\r\n    public static basename(path: string, ext?: string) {\r\n        var f = this._splitPath(path)[2];\r\n        // TODO: make this comparison case-insensitive on windows?\r\n        if (ext && f.substr(-1 * ext.length) === ext) {\r\n            f = f.substr(0, f.length - ext.length);\r\n        }\r\n        return f;\r\n\r\n    }\r\n\r\n    public static changeExtname(pathStr: string, extname: string) {\r\n        var extname = extname || \"\",\r\n            index = pathStr.indexOf(\"?\"),\r\n            tempStr = \"\";\r\n\r\n        if (index > 0) {\r\n            tempStr = pathStr.substring(index);\r\n            pathStr = pathStr.substring(0, index);\r\n        }\r\n\r\n        index = pathStr.lastIndexOf(\".\");\r\n\r\n        if (index < 0) {\r\n            return pathStr + extname + tempStr;\r\n        }\r\n\r\n        return pathStr.substring(0, index) + extname + tempStr;\r\n    }\r\n\r\n    public static changeBasename(pathStr: string, basename: string, isSameExt: boolean = false) {\r\n        var index = null,\r\n            tempStr = null,\r\n            ext = null;\r\n\r\n        if (basename.indexOf(\".\") == 0) {\r\n            return this.changeExtname(pathStr, basename);\r\n        }\r\n\r\n        index = pathStr.indexOf(\"?\");\r\n        tempStr = \"\";\r\n        ext = isSameExt ? this.extname(pathStr) : \"\";\r\n\r\n        if (index > 0) {\r\n            tempStr = pathStr.substring(index);\r\n            pathStr = pathStr.substring(0, index);\r\n        }\r\n\r\n        index = pathStr.lastIndexOf(\"/\");\r\n        index = index <= 0 ? 0 : index + 1;\r\n\r\n        return pathStr.substring(0, index) + basename + ext + tempStr;\r\n    }\r\n\r\n    public static extname(path: string) {\r\n        return this._splitPath(path)[3];\r\n    }\r\n\r\n    public static dirname(path: string) {\r\n        var result = this._splitPath(path),\r\n            root = result[0],\r\n            dir = result[1];\r\n\r\n        if (!root && !dir) {\r\n            //no dirname whatsoever\r\n            return '.';\r\n        }\r\n\r\n        if (dir) {\r\n            //it has a dirname, strip trailing slash\r\n            dir = dir.substr(0, dir.length - 1);\r\n        }\r\n\r\n        return root + dir;\r\n    }\r\n\r\n    private static _splitPath(fileName: string) {\r\n        return SPLITPATH_REGEX.exec(fileName).slice(1);\r\n    }\r\n}"],"names":[],"mappings":"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"}